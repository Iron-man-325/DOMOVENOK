{% extends 'base/base.html' %}
{% block content %}
    <div class="container">
        <div>
            <div>
                <h2 class="head-text">Сдать жилье в аренду</h2>
            </div>
            <div class="flex">
                <div class="city">
                    <p class="text">Город</p>
                    <input class="group-input" placeholder="Город">
                </div>
                <div>
                    <p class="text">Улица</p>
                    {{ form.street }}
                </div>
            </div>
            <div>
                <!-- Для добавленных картинок -->
            </div>
            <div>
                <p class="text">Описание</p>
                <input class="description">
            </div>
            <div>
                <h4 class="head-2-text">Что находится по близости?</h4>
            </div>
            <div class="height-margin">
                <div class="flex-container">
                    <div class="nearby-options flex-item">
                        <!-- Для добавленных вариантов -->
                    </div>
                    <input class="group-input flex-item" placeholder="Введите вариант">
                    <div class="button-add flex-item">
                        <p class="text">Добавить вариант +</p>
                    </div>
                </div>
            </div>
            <div class="height-margin">
                <h4 class="head-2-text">Удобства</h4>
            </div>
            <div class="height-margin">
                <div class="flex-container">
                    <div class="amenities-options flex-item">
                        <!-- Для добавленных вариантов -->
                    </div>
                    <input class="group-input flex-item" placeholder="Введите вариант">
                    <div class="button-add flex-item">
                        <p class="text">Добавить вариант +</p>
                    </div>
                </div>
            </div>
            <div class="height-margin">
                <h4 class="head-2-text">Правила</h4>
            </div>
            <div class="height-margin">
                <div class="flex-container">
                    <div class="rules-options flex-item">
                        <!-- Для добавленных вариантов -->
                    </div>
                    <input class="group-input flex-item" placeholder="Введите вариант">
                    <div class="button-add flex-item">
                        <p class="text">Добавить вариант +</p>
                    </div>
                </div>
            </div>
            <div class="height-margin">
                <p class="text">Сколько может проживать человек</p>
            </div>
            <div class="height-margin">
                <p class="text">Количество спальных мест</p>
                <input class="count-input" placeholder="Укажите количество спальных мест">
            </div>
            <div class="height-margin">
                <p class="text">Спальни</p>
                <input class="count-input" placeholder="Укажите число спален">
            </div>
            <div class="height-margin">
                <p class="text">Ванны</p>
                <input class="count-input" placeholder="Укажите число ванных">
            </div>
            <div class="flex">
                <div class="city">
                    <p class="text">Стоимость за одну ночь</p>
                    <input class="group-input" placeholder="₽0">
                </div>
                <div>
                    <p class="text">Аванс</p>
                    <input class="group-input" placeholder="₽0">
                </div>
            </div>
            <div class="height-margin">
                <p class="text">Минимальный срок аренды</p>
                <input class="count-input" placeholder="Количество ночей">
            </div>
            <div class="height-margin">
                <p class="text">Свободно</p>
                <input class="count-input" placeholder="Добавить даты">
            </div>
            <button class="button-submit height-margin">
                <p class="text-submit">Добавить</p>
            </button>
        </div>
    </div>

    <style>
        .flex-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .flex-item {
            flex-shrink: 0;
        }
    </style>

    <script>
        // Ждем, пока весь контент на странице загрузится
        document.addEventListener('DOMContentLoaded', function() {
            // Находим все кнопки "Добавить вариант +"
            const addButtons = document.querySelectorAll('.button-add');

            // Функция добавления нового поля ввода
            function addInputField(button) {
                // Находим контейнер, куда будем добавлять новые инпуты
                const flexContainer = button.closest('.flex-container');
                const optionsContainer = flexContainer.querySelector('div');

                const newInput = document.createElement('input');
                newInput.type = 'text';
                newInput.placeholder = 'Введите вариант';
                newInput.className = 'group-input flex-item';

                // Добавляем новое поле ввода в контейнер
                optionsContainer.appendChild(newInput);
            }

            // Добавляем обработчик события click на каждую кнопку
            addButtons.forEach(button => {
                button.addEventListener('click', function() {
                    addInputField(button);
                });
            });
        });
    </script>
{% endblock %}